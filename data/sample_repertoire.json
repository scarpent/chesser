[
{
    "variation_id": 1,
    "source": {},
    "color": "white",
    "chapter_title": "0… In the beginning",
    "variation_title": "Basic HTML Formatting",
    "is_intro": false,
    "level": 1,
    "created_at": "2026-01-02T21:16:27+00:00",
    "next_review": "2026-01-03T04:17:05+00:00",
    "last_review": "2026-01-02T21:17:05+00:00",
    "start_move": 2,
    "moves": [
        {
            "move_num": 1,
            "san": "a3",
            "annotation": "∞",
            "text": "Chesser sanitizes HTML in move text; only the following tags and attributes are preserved {(the <a href=\"https://github.com/scarpent/chesser/blob/1f77aa7930303f4a6e373ec291c1ccbf474d53b4/chesser/util.py#L13\" target=\"_blank\" rel=\"noopener noreferrer\">source code</a> is the ultimate authority)}:\n\n<pre>ALLOWED_TAGS = {\n    \"b\", \"i\", \"u\", \"em\", \"strong\", \"a\",\n    \"hr\", \"br\", \"ul\", \"ol\", \"li\",\n    \"code\", \"pre\", \"blockquote\", \"fenseq\",\n}\nALLOWED_ATTRIBUTES = {\n    \"a\": {\"href\", \"title\", \"target\"},\n    \"fenseq\": {\"data-fen\"},\n}\n</pre>\n\nHere we're using the “preformatted” <code>&lt;pre&gt;</code> block and <code>&lt;code&gt;</code> inline tags.\n\n<code>&lt;a&gt;</code> tags have <code>rel=\"noopener noreferrer\"</code> added during serialization.\n\nChesser normalizes spacing between HTML elements and subvariations.\n\nThis guide covers all built-in HTML tags. The custom <code>&lt;fenseq&gt;</code> tag is covered in another guide.",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 1,
            "san": "h6",
            "annotation": "",
            "text": "Alert readers will have noticed we also demonstrated a hyperlink anchor tag above. \n\n<code>&lt;a href=\"https://example.com\"&gt;Example!&lt;/a&gt;</code>\n\nWe protectively modify this as:\n\n<code>&lt;a href=\"https://example.com\"\n&nbsp;&nbsp;&nbsp;rel=\"noopener noreferrer\"&gt;Example!&lt;/a&gt;</code>\n\nWe allow <code>target=\"_blank\"</code> to open links in a new browser window or tab.",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 2,
            "san": "b3",
            "annotation": "",
            "text": "You can use <code>&lt;i&gt;</code> or <code>&lt;em&gt;</code> for <i>italics</i>, and <code>&lt;b&gt;</code> or <code>&lt;strong&gt;</code> for <b>bold</b>.\n\n<code>&lt;u&gt;</code><u>Underline</u><code>&lt;/u&gt;</code>\n\n<code>&lt;hr&gt;</code> Horizontal Rule  ➷\n<hr>\n\n\nUnordered List <code>&lt;ul&gt;</code>:\n\n<ul>\n  <li>Apple</li>\n  <li>Banana</li>\n</ul>\n\nOrdered List <code>&lt;ol&gt;</code>:\n<ol>\n  <li>Steal underwear</li>\n  <li>...</li>\n  <li>Profit!</li>\n</ol>\n\n<code>&lt;blockquote&gt;</code>\n\n<blockquote>There's not the mystery in ten murders that there is in one game of chess. –Sir Arthur Conan Doyle</blockquote>\n\nLine<br>Breaks<br>Yo\n\n<code>Line&lt;br&gt;Breaks&lt;br&gt;Yo</code>",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        }
    ],
    "mainline": "1.a3 h6 2.b3"
},
{
    "variation_id": 2,
    "source": {},
    "color": "white",
    "chapter_title": "0… In the beginning",
    "variation_title": "Subvariation Formatting Guide",
    "is_intro": false,
    "level": 0,
    "created_at": "2026-01-02T21:16:27+00:00",
    "next_review": "9999-12-31T23:59:59+00:00",
    "last_review": "9999-12-31T23:59:59",
    "start_move": 2,
    "moves": [
        {
            "move_num": 1,
            "san": "e4",
            "annotation": "∞",
            "text": "{subvar continues...}\n(1...e5 2.Bc4)\n\n{subvar starts with same move as mainline (1.e4 d5) \"discarded root dupe\"}\n(1.e4 d5)\n{non-mainline root dupe}\n(1...e5 2.Nf3 (2.Nf3 Nc6))\n{we don't discard root dupe if it has no following move:} (1.e4)\n\n{subvar starts with mainline sibling move}\n(1.d4 d5 2.c4)\n{non-mainline root sibling}\n(1...e5 2.Nf3 (2.Nc3))\n\n{subvar doesn't start with a fully qualified move...}\n(e4 e5)\n\n{Use fenseq HTML tag to specify an arbitrary starting point}\n<fenseq data-fen=\"r1bqk2r/2ppbppp/p1n2n2/1p2p3/B3P3/5N2/PPPP1PPP/RNBQR1K1 w kq - 0 7\">7.Bb3 O-O 8.c3 d5!</fenseq>\n\nIf data-fen is omitted or empty, it will use the starting position FEN. These are all the same:\n<pre>&lt;fenseq data-fen=\"START FEN\"&gt;1.d4 d5&lt;/fenseq&gt;\n&lt;fenseq data-fen=\"\"&gt;1.d4 d5&lt;/fenseq&gt;\n&lt;fenseq&gt;1.d4 d5&lt;/fenseq&gt;\n</pre>\n\n<fenseq data-fen=\"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1\">1.d4 d5</fenseq>",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 1,
            "san": "e5",
            "annotation": "",
            "text": "{alternate move}\n(2.Nf3 {or} 2.Nc3)\n(2.Nf3 {or} 2.Nc3 2.Nf6)\n(2.Nf3 {or} 2.Nc3 {or} 2.d4)",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 2,
            "san": "Nf3",
            "annotation": "",
            "text": "(2.Nf3 Nc6 (2...Nf6 3.Nc3 (3.Nxe5 Nxe4 4.Qe2 (4.Bc4? d5!) (4.d4 d5)))) X\n\n(2.Nf3 Nc6 (2...Nf6 3.Nc3 (3.Nxe5 Nxe4 4.Qe2 (4.Bc4? d5!) (4.d4 d5) {stepping down}) {stepping\ndown}) {stepping down}) X",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 2,
            "san": "Nc6",
            "annotation": "",
            "text": "{subvar continues correctly from black ➤ white}\n(2...Nc6 3.d4 exd4 (3...exd4 Nxd4))\n\n{another root dupe, starting from black mainline with comment}\n(2...Nc6 3.Nc3)",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 3,
            "san": "d4",
            "annotation": "",
            "text": "<fenseq data-fen=\"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1\">1.e4 e5 {or} 1.e3 d5</fenseq>\n\n<fenseq data-fen=\"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1\">1.e4 e5 {or} 1...d5 2.exd5 {or} 2.e5?</fenseq>",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 3,
            "san": "exd4",
            "annotation": "",
            "text": "<pre>Testing preformatted\n</pre>\n\nAnd a <code>code</code> block.\n{ braces } One newline.\n\n\n\nSeveral newlines...\n\n(4.Nxd4 Nxd4 {or} 4...Ne5?{, which people sometimes play...})\n\n<i>Here's</i> a <b>list</b>:\n\n<ul>\n<li>Apple</li>\n<li>Banana</li>\n</ul>\n\nAnd a blockquote:\n\n\n\n<blockquote>There's not the mystery in ten murders that there is in one game of chess.</blockquote>\n\nTrailing...",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 4,
            "san": "a4",
            "annotation": "",
            "text": "",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 4,
            "san": "a5",
            "annotation": "",
            "text": "",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        }
    ],
    "mainline": "1.e4 e5 2.Nf3 Nc6 3.d4 exd4 4.a4 a5"
},
{
    "variation_id": 3,
    "source": {},
    "color": "white",
    "chapter_title": "Scotch",
    "variation_title": "Scotch 4...Nxd4",
    "is_intro": false,
    "level": 0,
    "created_at": "2026-01-02T21:16:27+00:00",
    "next_review": "9999-12-31T23:59:59+00:00",
    "last_review": "9999-12-31T23:59:59",
    "start_move": 2,
    "moves": [
        {
            "move_num": 1,
            "san": "e4",
            "annotation": "",
            "text": "<blockquote>Best by test. –Bobby Fischer</blockquote>\n\nThe <i>King's Pawn Opening</i> is the most popular first move at all levels of the game. 1.e4 opens lines to develop the Queen and the King's Bishop. It also fights for control of the center.\n\n1.e4 directly controls d5 and f5. If White wants to develop some pieces, the most important square they control by playing 1.e4 is, in fact, the e4 square itself: as long as there's a White pawn on e4, there can't be a Black pawn on e4, which means White's g1-knight can be developed to f3 without fear of getting kicked away by a pawn and losing a tempo.\n\nBlack has several ways to respond. The main idea is to find a way to prevent White from achieving or maintaining a two-pawn center with both e4 and d4. They may try to:\n\n<ul>\n  <li>Control the d4 square.</li>\n  <li>Attack White's e4 pawn directly.</li>\n  <li>Prepare to establish their own pawn on d5.</li>\n  <li>Let White build a center but prepare to undermine it later.</li>\n</ul>\n\n{<i>(<a href=\"https://en.wikibooks.org/wiki/Chess_Opening_Theory/1._e4\" rel=\"noopener noreferrer\">See more in Wikibooks...</a>)</i>}",
            "alt": "",
            "alt_fail": "",
            "shapes": [
                {
                    "orig": "e4",
                    "brush": "green"
                },
                {
                    "orig": "d5",
                    "brush": "red"
                },
                {
                    "orig": "f5",
                    "brush": "red"
                },
                {
                    "orig": "d1",
                    "dest": "h5",
                    "brush": "green"
                },
                {
                    "orig": "f1",
                    "dest": "c4",
                    "brush": "green"
                }
            ]
        },
        {
            "move_num": 1,
            "san": "e5",
            "annotation": "",
            "text": "1...e5 serves to challenge White's plan of having the center squares to themselves. Of course, just like White's e4 move, e5 opens up the diagonals for Black's Bishop and Queen. While the position is still symmetrical there are few limits to where White can take the game next.\n\nThe most common move is (2.Nf3), continuing the fight for the center. A more aggressive player might also go for the King's Gambit with (2.f4). Black can take the pawn, but the gambit might allow White a quick and dangerous tactical attack. The former world chess champion, Bobby Fischer gave several great demonstrations of that opening's deadly potential.\n\nBlack will want to be familiar with 2.Qh5, where White dreams of checkmating Black with a quick Scholar's Mate. (2.Qh5 Nc6 3.Bc4 {and White hopes for something like} 3...Bc5? {or} 3...Nf6? 4.Qxf7#)",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 2,
            "san": "Nf3",
            "annotation": "",
            "text": "Nf3 is the classic of all classics. The Knight on f3 fights for control of the center by attacking Black's e5 pawn. It also supports a potential d2-d4 move.\n\nIt's common to develop the knight before the bishop across a wide range of openings. This is because there is usually only one good square for the knight, while the bishop has several options. We can see this in Black's most common response, Nc6. Black could also counterattack with (2...Nf6), known as the Russian Game or Petrov Defense.",
            "alt": "",
            "alt_fail": "",
            "shapes": [
                {
                    "orig": "f3",
                    "dest": "e5",
                    "brush": "green"
                },
                {
                    "orig": "e5",
                    "brush": "red"
                }
            ]
        },
        {
            "move_num": 2,
            "san": "Nc6",
            "annotation": "",
            "text": "Black develops the Knight to c6, defending Black's e5 pawn while also fighting for control of d4.\n\nWhite can now choose between several well-known openings. The Ruy Lopez (3.Bb5), Italian Game (3.Bc4), and Scotch Game (3.d4) are all solid openings that see regular play at all levels. With the Ruy Lopez, White seeks to chase the initiative and attacks the defender of Black’s e5 pawn. In the Italian Game, the Bishop on c4 targets Black’s f7 pawn, the weakest pawn in the starting position. The Scotch Game with 3.d4 often leads to more concrete variations, with the central pawns being exchanged right away.",
            "alt": "",
            "alt_fail": "",
            "shapes": [
                {
                    "orig": "e5",
                    "brush": "green"
                },
                {
                    "orig": "c6",
                    "dest": "e5",
                    "brush": "green"
                }
            ]
        },
        {
            "move_num": 3,
            "san": "d4",
            "annotation": "",
            "text": "With this aggressive pawn advance, White looks to open up the center.\n\n(3...exd4) is played almost every time. It releases the central tension and leads to a very open game, with a lot of space for both players.\n\n(3...Nxd4{, the Lolli variation, is playable. White can trade on d4,} (4.Nxd4 exd4 5.Qxd4{, taking advantage of the fact Black has traded their Knight to centralize their Queen, or play}) (4.Nxe5)), threatening Qxd4.\n\nA few tries have been made with (3...d6{, transposing into a Philidor Defense, but this affords White a range of good options:} 4.d5{, kicking the Knight and expanding in the center is the most straightforward, or} 4.Bb5), transposing into an <a href=\"https://en.wikibooks.org/wiki/Chess_Opening_Theory/1._e4/1...e5/2._Nf3/2...Nc6/3._Bb5/3...d6\" rel=\"noopener noreferrer\">Old Steinitz Spanish</a>.",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 3,
            "san": "exd4",
            "annotation": "",
            "text": "Essentially the only move. Black contests the center.",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 4,
            "san": "Nxd4",
            "annotation": "",
            "text": "Black has now an opportunity to take the initiative that should not be wasted.\n\n(4...Bc5 {(Classical Variation) attacks White's central Knight on d4 and forces White to either move it or protect it. Black should expect replies like} 5.Be3{,} 5.Nxc6{, or} 5.Nb3).\n\n(4...Nf6) {(Schmidt Variation) is a common alternative. Black puts immediate attacking pressure on White's e-pawn.}\n\n(4...Qh4) {(Steinitz Variation) is more aggressive. Black immediately attempts to win White's e-pawn outright and indeed can practically win it by force. However, doing so costs time and White is thought to get more than enough compensation after:}\n\n(4...Qh4 5.Nc3 Bb4 6.Be2 Qxe4 7.Nb5 Bxc3+ 8.bxc3 Kd8 9.O-O)",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 4,
            "san": "Nxd4",
            "annotation": "?!",
            "text": "This dubious move is the most popular one at lower levels and is often employed by intermediate players as well. It allows the Queen to centralize on d4, where she's not easily attacked.",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 5,
            "san": "Qxd4",
            "annotation": "",
            "text": "Now White can go for long castling and often launch a kingside attack. ⚔️\n\nSome players like pushing (5...c5 {, which is good for White after} 6.Qe3 {, } 6.Qd3){, etc. Black might also play} (5...Qf6{, trying to trade queens, but after} 6.Qc4 Qc6 7.Nc3) we are generally happy to allow the queen trade in return for a strong lead in development.",
            "alt": "",
            "alt_fail": "",
            "shapes": [
                {
                    "orig": "c1",
                    "dest": "e3",
                    "brush": "green"
                },
                {
                    "orig": "c1",
                    "dest": "f4",
                    "brush": "green"
                },
                {
                    "orig": "b1",
                    "dest": "c3",
                    "brush": "green"
                },
                {
                    "orig": "f2",
                    "dest": "f3",
                    "brush": "green"
                },
                {
                    "orig": "g2",
                    "dest": "g4",
                    "brush": "green"
                },
                {
                    "orig": "h2",
                    "dest": "h4",
                    "brush": "green"
                },
                {
                    "orig": "e1",
                    "dest": "c1",
                    "brush": "blue"
                },
                {
                    "orig": "d4",
                    "brush": "green"
                }
            ]
        },
        {
            "move_num": 5,
            "san": "d6",
            "annotation": "",
            "text": "This tepid move is the most popular in online games. Perhaps Black has been burned before by (5...Nf6? 6.e5!).",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 6,
            "san": "Bf4",
            "annotation": "",
            "text": "(6.Nc3) and other moves are fine, too.",
            "alt": "Nc3, Be3",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 6,
            "san": "Nf6",
            "annotation": "",
            "text": "",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 7,
            "san": "Nc3",
            "annotation": "",
            "text": "",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 7,
            "san": "Be7",
            "annotation": "",
            "text": "",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 8,
            "san": "O-O-O",
            "annotation": "",
            "text": "Now c-pawn pushers might find themselves losing their d-pawn:\n\n(8...c5? 9.Qd2 O-O 10.Bxd6!)",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 8,
            "san": "O-O",
            "annotation": "",
            "text": "",
            "alt": "",
            "alt_fail": "",
            "shapes": []
        },
        {
            "move_num": 9,
            "san": "f3",
            "annotation": "±",
            "text": "",
            "alt": "",
            "alt_fail": "",
            "shapes": [
                {
                    "orig": "g2",
                    "dest": "g4",
                    "brush": "green"
                },
                {
                    "orig": "h2",
                    "dest": "h4",
                    "brush": "green"
                },
                {
                    "orig": "c1",
                    "dest": "b1",
                    "brush": "green"
                }
            ]
        }
    ],
    "mainline": "1.e4 e5 2.Nf3 Nc6 3.d4 exd4 4.Nxd4 Nxd4 5.Qxd4 d6 6.Bf4 Nf6 7.Nc3 Be7 8.O-O-O O-O 9.f3"
}
]
