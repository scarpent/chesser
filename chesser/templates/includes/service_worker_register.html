{% load static %}
<script>
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", function () {
      navigator.serviceWorker
        .register("/service-worker.js?v={{ BUILD_TIMESTAMP }}")
        .then(function (registration) {
          console.log("✅ Service Worker registered with scope:", registration.scope);
        })
        .catch(function (error) {
          console.error("❌ Service Worker registration failed:", error);
        });
    });
  }
</script>
